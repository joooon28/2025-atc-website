export default function Marker({
  // ✅ 기본 배경색 = label-invert, hover 시 label 로 반전
  bgClass = "text-label-invert",
  hoverBgClass = "hover:text-label",

  width = 45,
  height = 35,
  className = "",
  label,

  // ✅ 기본 텍스트색 = label, hover 시 label-invert 로 반전
  textClass = "text-label text-[14px] font-regular",
  hoverTextClass = "group-hover:text-label-invert",

  style,
  ariaLabel,
  onClick,
  onKeyDown,
  ...rest
}) {
  // 컨테이너에 색 클래스 부여 → currentColor를 통해 <path>로 전파
  const containerCls = [
    "relative inline-block group", // group은 Marker 내부 전용(텍스트 반전용)
    bgClass,
    hoverBgClass,
    className,
  ]
    .filter(Boolean)
    .join(" ");

  return (
    <div className={containerCls} style={{ width, height, ...style }} {...rest}>
      <svg
        width={width}
        height={height}
        viewBox="0 0 45 35"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="block"
        aria-hidden="true"
      >
        {/* 배경 캡슐: fill=currentColor, 색은 부모 div의 text-* 로 제어 */}
        <path
          className="transition-colors duration-150"
          fill="currentColor"
          d="M1.45405 17.5084C1.45405 8.67186 8.61749 1.50842 17.454 1.50842H27.454C36.2906 1.50842 43.454 8.67186 43.454 17.5084C43.454 26.345 36.2906 33.5084 27.454 33.5084H17.454C8.61749 33.5084 1.45405 26.345 1.45405 17.5084Z"
        />
        {/* 내부 장식: 고정 색 유지 */}
        <path
          className="text-[#362C11]"
          fill="currentColor"
          d="M22.5712 0.070919L23.3212 0.258419C23.5877 0.324762 23.8523 0.404253 24.1181 0.484982L24.4931 0.594357L24.8681 0.711544C24.9829 0.746423 25.0884 0.74935 25.1884 0.734982L25.9384 0.625607C26.2395 0.582446 26.5421 0.565355 26.8447 0.570919L27.5947 0.586544C27.7134 0.58879 27.8546 0.565042 28.0165 0.508419L28.4072 0.375607L28.7978 0.234982C29.2818 0.0657294 29.7974 0.0743362 30.2822 0.281857L30.6415 0.438107L31.0087 0.594357C31.1543 0.656317 31.3032 0.690402 31.454 0.703732L31.8369 0.734982L32.2275 0.774044C32.5924 0.806295 32.9465 0.893648 33.2822 1.03967L33.6337 1.19592L33.9931 1.35217C34.271 1.47331 34.5402 1.61522 34.7978 1.77404L35.1259 1.96936L35.454 2.17248C35.6784 2.31078 35.899 2.45256 36.1181 2.59436L36.4384 2.80529L36.7587 3.00842C36.9598 3.13856 37.1672 3.26834 37.3759 3.39123L38.0322 3.78186C38.3314 3.95804 38.6041 4.17228 38.8447 4.42248L39.3759 4.96936C39.6377 5.24161 39.8489 5.56037 40.0009 5.90686L40.1572 6.26623L40.3212 6.63342C40.344 6.68409 40.3728 6.72292 40.4306 6.75842L41.1181 7.18029C41.4938 7.41128 41.7967 7.72732 42.0009 8.12561L42.1806 8.46936L42.3525 8.81311C42.5216 9.14466 42.6318 9.49791 42.6806 9.86779L42.7275 10.2584L42.7822 10.649V10.6647C42.784 10.6677 42.7952 10.681 42.8212 10.7037L43.1415 10.985L43.4697 11.2662C43.9293 11.6684 44.1538 12.232 44.0634 12.8522L44.0009 13.2662L43.9384 13.6725C43.9164 13.8229 43.9284 13.94 43.954 14.0319L44.1572 14.7506C44.2719 15.1614 44.272 15.5822 44.1728 15.9928L44.079 16.3756L43.9931 16.7506C43.9645 16.8683 43.9592 16.973 43.9775 17.0709L44.1181 17.8053C44.1673 18.0629 44.2113 18.3279 44.2509 18.5944L44.3134 18.9772L44.3681 19.36C44.4262 19.7514 44.3982 20.1427 44.29 20.524L44.0869 21.2584C43.9912 21.5937 43.8448 21.9086 43.6572 22.2037L43.4462 22.5319L43.2431 22.86C43.1306 23.0366 43.0314 23.2093 42.954 23.3834L42.6572 24.0553C42.578 24.234 42.5111 24.4218 42.454 24.6178L42.3525 24.9772L42.2431 25.3365C42.1851 25.5361 42.1347 25.7565 42.0947 25.9928L42.0322 26.399L41.9619 26.8053C41.911 27.1051 41.7789 27.401 41.5556 27.649C41.3362 27.8914 41.0666 28.0431 40.7978 28.1334L40.3759 28.274L39.9462 28.4225C39.7784 28.4791 39.6918 28.5379 39.6494 28.5787L39.1337 29.0944C39.1172 29.1107 39.0659 29.1643 39.0244 29.3209L38.79 30.1959C38.7126 30.4893 38.5612 30.8001 38.2822 31.0397C38.0013 31.28 37.6698 31.3804 37.3603 31.4069L36.9228 31.4459L36.6103 31.4694L36.4619 31.774L36.2665 32.1725C36.0015 32.7099 35.5228 33.1079 34.8681 33.1725L34.4619 33.2115L34.0634 33.2506C33.8447 33.2719 33.6396 33.3036 33.454 33.3522L33.0869 33.4537L32.7275 33.5475C32.4042 33.6323 32.0704 33.6706 31.7353 33.6725L31.3603 33.6803H31.0009C30.9909 33.6866 30.9705 33.6967 30.9462 33.7194L30.6181 34.0319L30.29 34.3365C30.0814 34.5314 29.8154 34.705 29.4931 34.7819C29.1644 34.86 28.8374 34.8222 28.5478 34.7194L28.165 34.5865L27.7744 34.4459C27.5528 34.3672 27.3386 34.3027 27.1337 34.2584L26.3837 34.1022C26.1795 34.0581 25.976 34.0306 25.7744 34.0162L25.3994 33.985L25.0244 33.9615C24.9625 33.9573 24.884 33.9651 24.7744 34.0162L24.3994 34.1959L24.0244 34.3678C23.6407 34.548 23.2213 34.6409 22.79 34.6178L22.415 34.5944L22.04 34.5787C21.8185 34.5669 21.5973 34.5651 21.3759 34.5709L20.6259 34.5865C20.3671 34.5934 20.1035 34.6022 19.8447 34.6022H19.0947C18.8245 34.6021 18.5524 34.5878 18.2822 34.5709L17.5322 34.524C17.2004 34.5032 16.874 34.4446 16.5556 34.3444L16.1884 34.2272L15.829 34.1178C15.6824 34.0716 15.5352 34.047 15.3915 34.0475H14.6494C14.2836 34.0487 13.9228 33.9925 13.579 33.8678L13.2275 33.735L12.8837 33.61C12.6969 33.5422 12.5025 33.4866 12.3056 33.4459L11.9384 33.3756L11.5712 33.2975C11.2327 33.2277 10.9069 33.1092 10.6025 32.9459L10.2744 32.774L9.94624 32.5944C9.69714 32.4607 9.45267 32.3154 9.21967 32.1569L8.6103 31.735C8.39648 31.5895 8.18452 31.4426 7.97749 31.2897L7.38374 30.8522C7.20892 30.723 7.02681 30.595 6.83686 30.4772L6.51655 30.2819L6.19624 30.0787C6.01044 29.9636 5.80312 29.8589 5.58686 29.7506L5.22749 29.5631L4.86811 29.3834C4.26199 29.0798 3.96722 28.5195 3.93061 27.9147L3.89936 27.4615L3.87592 27.0006C3.87451 26.9782 3.87003 26.963 3.86811 26.9537L3.6103 26.735L3.32124 26.485C3.09531 26.2873 2.87963 26.0723 2.68061 25.8444L2.43061 25.5553L2.1728 25.2584C1.79758 24.8274 1.6688 24.2985 1.7353 23.7662L1.78217 23.3444L1.82124 23.024L1.56342 22.7975L1.2353 22.5084C0.859149 22.1788 0.590373 21.7368 0.524361 21.2037L0.469673 20.8209L0.422798 20.4459C0.381076 20.109 0.387952 19.7679 0.430611 19.4303L0.524361 18.6647C0.532297 18.6019 0.528124 18.5284 0.485298 18.4303L0.313423 18.0475L0.149361 17.6725C0.0272592 17.3952 -0.0310327 17.0795 0.0165482 16.7506C0.0634323 16.4268 0.202186 16.1486 0.375923 15.9225L0.649361 15.5709L0.922798 15.2115L0.852486 14.8834L0.774361 14.485C0.694856 14.0914 0.691011 13.6905 0.782173 13.2975L0.954048 12.5631C1.00679 12.3357 1.05372 12.0987 1.09467 11.86L1.16499 11.4772L1.22749 11.0865C1.31337 10.586 1.5704 10.1657 1.94624 9.84436L2.25874 9.57092L2.57905 9.30529C2.73138 9.1753 2.8496 9.04134 2.93842 8.91467L3.3603 8.30529C3.40825 8.23682 3.45708 8.13397 3.4853 7.97717L3.56342 7.56311L3.63374 7.14123C3.72764 6.62034 4.00339 6.16356 4.46186 5.85217L4.78999 5.62561L5.11811 5.40686C5.40269 5.21391 5.70831 5.0587 6.03217 4.93811L6.40717 4.79748L6.75092 4.66467L6.93061 4.25842L7.09467 3.85998L7.31342 3.46936C7.5714 3.11614 7.94962 2.87005 8.4228 2.78967L8.82905 2.71936L9.22749 2.65686C9.33955 2.63791 9.41761 2.59536 9.47749 2.54748L9.78217 2.30529L10.079 2.07092C10.3634 1.84353 10.6827 1.66408 11.0244 1.53967L11.3759 1.40686L11.7353 1.28186C11.9545 1.20204 12.1731 1.11079 12.3915 1.01623L12.7431 0.867794L13.1025 0.711544C13.5276 0.527779 13.9814 0.481942 14.4306 0.563107L14.8212 0.633419L15.2197 0.703732C15.2481 0.708872 15.2718 0.715566 15.3212 0.688107L15.6806 0.484982L16.0478 0.281857C16.2184 0.187047 16.4531 0.073157 16.7197 0.039669C16.9405 0.0122691 17.227 0.0368201 17.4931 0.188107L17.7509 0.383419L17.8837 0.524044L17.9775 0.617794L18.1494 0.688107L18.5244 0.813107L18.8994 0.945919C18.9082 0.948924 18.9214 0.945708 18.9228 0.945919C18.9273 0.944761 18.9356 0.942542 18.9462 0.938107L19.6962 0.625607C19.9775 0.508817 20.2627 0.405067 20.5478 0.320919L21.2978 0.102169C21.7158 -0.0208545 22.1471 -0.0346322 22.5712 0.070919ZM21.8603 2.02404L21.1103 2.24279C20.8963 2.30605 20.6797 2.38669 20.4619 2.47717L20.0869 2.62561L19.7119 2.78186C19.244 2.97618 18.7449 3.00128 18.2587 2.83654L17.8837 2.71154L17.5087 2.57873C17.2736 2.49894 16.9887 2.36953 16.7431 2.17248L16.6572 2.22717L16.29 2.43029C15.8535 2.67283 15.3675 2.76201 14.8681 2.67248L14.0712 2.53186C13.9919 2.51752 13.9388 2.52704 13.8915 2.54748L13.54 2.69592L13.1884 2.85217C12.9353 2.96171 12.6787 3.06362 12.4228 3.15686L12.0634 3.28967L11.704 3.41467C11.5695 3.46365 11.4461 3.53979 11.329 3.63342L11.0244 3.86779L10.7275 4.10998C10.3859 4.38312 9.98929 4.5536 9.56342 4.62561L9.16499 4.69592L8.89155 4.73498L8.77436 5.03967L8.60249 5.43811C8.39299 5.93599 8.01795 6.3333 7.4853 6.53186L7.1103 6.67248L6.72749 6.81311C6.55135 6.87891 6.38493 6.96153 6.2353 7.06311L5.91499 7.28186L5.60249 7.49279L5.53217 7.91467L5.45405 8.33654C5.38179 8.73687 5.23685 9.11672 5.00092 9.45373L4.78999 9.75842L4.57124 10.0631C4.37519 10.3427 4.14303 10.6009 3.87592 10.8287L3.55561 11.0944L3.24311 11.36C3.21812 11.3813 3.20667 11.3947 3.20405 11.399C3.20278 11.4012 3.20652 11.4097 3.20405 11.4225L3.13374 11.8131L3.07124 12.1959C3.02411 12.4707 2.96865 12.7431 2.90717 13.0084L2.82124 13.3834L2.7353 13.7506C2.71208 13.8507 2.70915 13.9656 2.7353 14.0944L2.89155 14.8756C3.00949 15.4569 2.84387 15.9946 2.50874 16.4303L2.2353 16.7897L2.0478 17.024L2.14936 17.2428L2.31342 17.6256C2.49166 18.0314 2.56531 18.467 2.50874 18.9147L2.41499 19.6803C2.39303 19.854 2.39406 20.0259 2.41499 20.1959L2.46186 20.5787L2.50092 20.9537C2.50517 20.9601 2.51954 20.9757 2.5478 21.0006L2.88374 21.2897L3.21186 21.5787C3.67189 21.9819 3.89953 22.5483 3.82124 23.1725L3.76655 23.5944L3.71967 23.985L3.93842 24.235L4.18842 24.5319C4.3295 24.6934 4.48382 24.8392 4.64155 24.9772L4.93061 25.235L5.21186 25.485L5.49311 25.7897C5.73072 26.1158 5.84498 26.4969 5.86811 26.8834L5.89936 27.3365L5.91499 27.6647L6.12592 27.774L6.4853 27.9615C6.75053 28.0944 7.00317 28.2348 7.24311 28.3834L7.56342 28.5787L7.88374 28.7819C8.11958 28.928 8.35126 29.0803 8.57124 29.2428L9.16499 29.6803C9.35186 29.8183 9.54194 29.955 9.7353 30.0865L10.04 30.2975L10.3447 30.5006C10.519 30.6192 10.7044 30.7282 10.8915 30.8287L11.5478 31.1881C11.6813 31.2597 11.8273 31.3056 11.9775 31.3365L12.3447 31.4147L12.704 31.4928C12.9954 31.5528 13.2847 31.6338 13.5634 31.735L13.915 31.86L14.2587 31.985C14.3808 32.0293 14.5095 32.0479 14.6415 32.0475H15.3837C15.7381 32.0463 16.0918 32.097 16.4306 32.2037L16.79 32.3209L17.1572 32.4381C17.3234 32.4904 17.4897 32.5213 17.6572 32.5319L18.4072 32.5787C18.636 32.593 18.8661 32.6021 19.0947 32.6022H19.8447C20.0859 32.6022 20.33 32.5929 20.5712 32.5865L21.3212 32.5709C21.5973 32.5636 21.8734 32.564 22.1494 32.5787L22.5244 32.6022L22.8994 32.6178C22.968 32.6215 23.0565 32.6099 23.1728 32.5553L23.5478 32.3834L23.9228 32.2037C24.31 32.0222 24.7292 31.931 25.165 31.9615L25.54 31.9928L25.915 32.0162C26.2127 32.0374 26.5109 32.0854 26.8056 32.149L27.5556 32.3053C27.8503 32.3689 28.1499 32.4578 28.4462 32.5631L28.829 32.6959L29.0322 32.7662L29.2509 32.5709L29.5869 32.2584C29.9526 31.9176 30.4196 31.6835 30.9697 31.6803H31.3525L31.7275 31.6725C31.8969 31.6715 32.0601 31.6519 32.2197 31.61L32.579 31.5162L32.9462 31.4225C33.2428 31.3447 33.5513 31.2893 33.8681 31.2584L34.2665 31.2194L34.5165 31.1881L34.6728 30.8912L34.8681 30.485C35.1506 29.9121 35.6702 29.5479 36.3212 29.4928L36.7509 29.4537L36.915 29.4381L36.9697 29.2506L37.0869 28.8131C37.1981 28.3909 37.3997 27.9874 37.7275 27.6647L37.9853 27.4147L38.2431 27.1569C38.5462 26.8584 38.9193 26.6565 39.3134 26.524L39.7353 26.3834L40.0165 26.2819L40.0556 26.0631L40.1259 25.6569C40.1773 25.3534 40.2402 25.0609 40.3212 24.7819L40.4306 24.4225L40.5322 24.0631C40.6138 23.7823 40.7121 23.5065 40.829 23.2428L41.1259 22.5709C41.246 22.3008 41.3924 22.038 41.5556 21.7819L41.7587 21.4615L41.9697 21.1334C42.0567 20.9968 42.1229 20.8515 42.165 20.7037L42.2665 20.3444L42.3681 19.9772C42.3968 19.8754 42.4082 19.7717 42.3915 19.6569L42.329 19.274L42.2744 18.8912C42.2386 18.65 42.2012 18.4111 42.1572 18.1803L42.0165 17.4459C41.9426 17.0564 41.9548 16.6656 42.0478 16.2819L42.1415 15.899L42.2275 15.524C42.2499 15.4317 42.2468 15.3587 42.2275 15.2897L42.1259 14.9303L42.0322 14.5709C41.9235 14.182 41.9037 13.7804 41.9619 13.3834L42.0244 12.9772L42.0556 12.6959L41.829 12.4928L41.5087 12.2115C41.1262 11.8783 40.8669 11.4376 40.7978 10.9147L40.7509 10.524L40.6962 10.1256C40.6759 9.97496 40.6334 9.84085 40.5712 9.71936L40.3994 9.37561L40.2197 9.03967C40.1916 8.98484 40.1527 8.93354 40.0712 8.88342L39.3837 8.46154C38.9846 8.21645 38.6751 7.86941 38.4853 7.43811L38.329 7.07092L38.165 6.70373C38.1049 6.56797 38.0299 6.45536 37.9384 6.35998L37.6728 6.07873L37.4072 5.80529C37.2935 5.6871 37.1662 5.58433 37.0244 5.50061L36.6884 5.30529L36.3603 5.10998C36.1278 4.97309 35.8975 4.83352 35.6728 4.68811L35.3525 4.47717L35.0322 4.27404C34.8252 4.14009 34.6116 4.00648 34.3994 3.87561L34.079 3.67248L33.7509 3.46936C33.573 3.35966 33.3812 3.26417 33.1884 3.18029L32.8369 3.03186L32.4853 2.87561C32.3498 2.81664 32.2067 2.77994 32.0556 2.76623L31.665 2.72717L31.2744 2.69592C30.9097 2.66348 30.5569 2.57461 30.2197 2.43029L29.8525 2.27404L29.4931 2.11779H29.4853C29.4803 2.11883 29.4728 2.12182 29.4619 2.12561L29.0712 2.26623L28.6728 2.39904C28.3119 2.52501 27.9357 2.59374 27.5556 2.58654L27.1806 2.57873L26.8134 2.57092C26.6181 2.56722 26.4169 2.58164 26.2197 2.60998L25.4697 2.71936C25.071 2.77634 24.6739 2.74189 24.29 2.62561L23.915 2.50842L23.54 2.39904C23.306 2.32797 23.0702 2.26181 22.8369 2.20373L22.0869 2.01623C22.0119 1.99763 21.9415 2.00007 21.8603 2.02404Z"
        />
      </svg>

      {/* 클릭 오버레이 (테두리/포커스 제거) */}
      <button
        type="button"
        aria-label={ariaLabel ?? label}
        onClick={onClick}
        onKeyDown={(e) => {
          if (onKeyDown) return onKeyDown(e);
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            onClick?.(e);
          }
        }}
        className="absolute inset-0 z-[100] bg-transparent cursor-pointer
                   outline-none focus:outline-none focus:ring-0 border-none"
      />

      {label && (
        <span
          className={[
            "pointer-events-none absolute inset-0 z-[90] flex items-center justify-center",
            "transition-colors duration-150",
            textClass,
            hoverTextClass, // group-hover: Marker 내부에서만 작동
          ].join(" ")}
        >
          {label}
        </span>
      )}
    </div>
  );
}
